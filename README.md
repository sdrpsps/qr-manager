# QRManager - åŠ¨æ€äºŒç»´ç ç®¡ç†å¹³å°

[![Deploy](https://github.com/sdrpsps/qr-manager/actions/workflows/deploy.yml/badge.svg)](https://github.com/sdrpsps/qr-manager/actions/workflows/deploy.yml)

> ç ä¸å˜ï¼Œå†…å®¹éšæ—¶å˜ã€‚ä¸€ä¸ªäºŒç»´ç ï¼Œæ— é™å¯èƒ½ã€‚

QRManager æ˜¯ä¸€ä¸ªåŸºäº Cloudflare æ„å»ºçš„å…è´¹ä¸”é«˜å¯ç”¨çš„åŠ¨æ€äºŒç»´ç ç®¡ç†å¹³å°ã€‚æ”¯æŒäºŒç»´ç å†…å®¹åŠ¨æ€æ›´æ–°ã€ä¸ªæ€§åŒ–è®¾è®¡ã€ä¸“å±Logoä¸Šä¼ ç­‰åŠŸèƒ½ï¼Œè®©æ¯ä¸ªäºŒç»´ç éƒ½ç‹¬ä¸€æ— äºŒã€‚

## ğŸ“‹ ç›®å½•

- [âœ¨ ç‰¹æ€§](#-ç‰¹æ€§)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸ—ï¸ é¡¹ç›®ç»“æ„](#ï¸-é¡¹ç›®ç»“æ„)
- [âš™ï¸ ç¯å¢ƒå˜é‡é…ç½®](#ï¸-ç¯å¢ƒå˜é‡é…ç½®)
- [ğŸ› ï¸ æŠ€æœ¯æ ˆ](#ï¸-æŠ€æœ¯æ ˆ)
- [ğŸ“¦ éƒ¨ç½²](#-éƒ¨ç½²)
- [ğŸ¤ è´¡çŒ®](#-è´¡çŒ®)
- [ğŸ“„ è®¸å¯è¯](#-è®¸å¯è¯)

## âœ¨ ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **åŠ¨æ€å†…å®¹æ›´æ–°** - äºŒç»´ç å¤–è§‚ä¿æŒä¸å˜ï¼Œæ‰«æåæ˜¾ç¤ºçš„å†…å®¹å¯ä»¥éšæ—¶æ›´æ–°
- **Cloudflare æ‰˜ç®¡** - åŸºäº Cloudflare æ„å»ºï¼Œäº«å—å…è´¹æ•°æ®åº“å’Œå­˜å‚¨æœåŠ¡
- **ä¸ªæ€§åŒ–è®¾è®¡** - ä¸°å¯Œçš„é¢„è®¾é£æ ¼ï¼Œæ”¯æŒå®Œå…¨è‡ªå®šä¹‰é¢œè‰²ã€æ ·å¼
- **ä¸“å±Logoä¸Šä¼ ** - æ”¯æŒä¸Šä¼ å…¬å¸Logoã€ä¸ªäººå¤´åƒæˆ–ä»»ä½•æ ‡è¯†å›¾ç‰‡

### ğŸ¨ è®¾è®¡ç‰¹è‰²
- **ç²¾ç¾é¢„è®¾æ¨¡æ¿** - å†…ç½®å¤šç§ä¸“ä¸šè®¾è®¡çš„äºŒç»´ç æ¨¡æ¿
- **å®Œå…¨è‡ªå®šä¹‰è®¾è®¡** - è‡ªç”±è°ƒæ•´å‰æ™¯è‰²ã€èƒŒæ™¯è‰²ã€è¾¹è·ã€åœ†è§’ç­‰å‚æ•°
- **å“ç‰ŒåŒ–å®šåˆ¶** - æ‰“é€ å®Œå…¨ç¬¦åˆå“ç‰Œå½¢è±¡çš„ä¸“å±äºŒç»´ç 

### ğŸŒ åº”ç”¨åœºæ™¯
- äº§å“è¯´æ˜ä¹¦ã€å®‰è£…æŒ‡å—ã€ä½¿ç”¨è¯´æ˜
- ä¼šè®®èµ„æ–™ã€æ¼”ç¤ºæ–‡ç¨¿ã€ä¼šè®®çºªè¦
- åŸ¹è®­ææ–™ã€æ“ä½œæ‰‹å†Œã€å­¦ä¹ èµ„æ–™
- è¥é”€èµ„æ–™ã€äº§å“ç›®å½•ã€å®£ä¼ å†Œ
- æ´»åŠ¨é—¨ç¥¨ã€æ´»åŠ¨è¯¦æƒ…ã€æ—¶é—´åœ°ç‚¹
- ä¸ªäººæ–‡ä»¶ã€ç®€å†ã€ä½œå“é›†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js 20+
- Bun åŒ…ç®¡ç†å™¨
- Cloudflare è´¦æˆ·

### å®‰è£…ä¾èµ–
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/qr-manager.git
cd qr-manager

# å®‰è£…ä¾èµ–
bun install
```

### ç¯å¢ƒé…ç½®
1. å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
```bash
cp .env.example .env.local
```

2. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆè¯¦è§ä¸‹æ–¹é…ç½®è¡¨æ ¼ï¼‰

### æœ¬åœ°å¼€å‘
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
bun run dev

# è¿è¡Œæ•°æ®åº“è¿ç§»
bun run migrate
```

### æ„å»ºéƒ¨ç½²
```bash
# æ„å»ºé¡¹ç›®
bun run build

# éƒ¨ç½²åˆ° Cloudflare
bun run deploy
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
qr-manager/
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ ğŸ“ (auth)/            # è®¤è¯ç›¸å…³é¡µé¢
â”‚   â”‚   â”œâ”€â”€ ğŸ“ (workspace)/       # å·¥ä½œåŒºé¡µé¢
â”‚   â”‚   â”œâ”€â”€ ğŸ“ api/               # API è·¯ç”±
â”‚   â”‚   â””â”€â”€ ğŸ“ s/                 # äºŒç»´ç æ‰«æé¡µé¢
â”‚   â”œâ”€â”€ ğŸ“ components/            # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ ui/               # UI åŸºç¡€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ğŸ“ features/         # åŠŸèƒ½ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“ features/             # åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth/             # è®¤è¯åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ ğŸ“ qr-code/          # äºŒç»´ç åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ ğŸ“ upload/           # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”‚   â””â”€â”€ ğŸ“ user/             # ç”¨æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ ğŸ“ lib/                  # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ ğŸ“ db/              # æ•°æ®åº“é…ç½®
â”‚   â”‚   â””â”€â”€ ğŸ“ storage/         # å­˜å‚¨é…ç½®
â”‚   â””â”€â”€ ğŸ“ emails/              # é‚®ä»¶æ¨¡æ¿
â”œâ”€â”€ ğŸ“ drizzle/                 # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”œâ”€â”€ ğŸ“ scripts/                 # éƒ¨ç½²è„šæœ¬
â””â”€â”€ ğŸ“ public/                  # é™æ€èµ„æº
```

## âš™ï¸ ç¯å¢ƒå˜é‡é…ç½®

| å˜é‡å | ç±»å‹ | å¿…éœ€ | æè¿° | ç¤ºä¾‹å€¼ |
|--------|------|------|------|--------|
| **Cloudflare é…ç½®** |
| `CLOUDFLARE_API_TOKEN` | string | âœ… | Cloudflare API Token | `your-api-token` |
| `CLOUDFLARE_ACCOUNT_ID` | string | âœ… | Cloudflare è´¦æˆ· ID | `your-account-id` |
| `CUSTOM_DOMAIN` | string | âœ… | è‡ªå®šä¹‰åŸŸå (ä¸åŒ…å«åè®®) | `qr.example.com` |
| **è®¤è¯é…ç½®** |
| `BETTER_AUTH_SECRET` | string | âœ… | Better Auth å¯†é’¥ (éšæœºå­—ç¬¦ä¸²) | `your-secret-key` |
| `BETTER_AUTH_URL` | string | âœ… | Better Auth URL | `https://qr.example.com` |
| `BETTER_AUTH_GITHUB_CLIENT_ID` | string | âœ… | GitHub OAuth Client ID | `your-github-client-id` |
| `BETTER_AUTH_GITHUB_CLIENT_SECRET` | string | âœ… | GitHub OAuth Client Secret | `your-github-client-secret` |
| **é‚®ä»¶é…ç½®** |
| `RESEND_API_KEY` | string | âœ… | Resend API å¯†é’¥ | `your-resend-api-key` |
| `RESEND_SENDER_ADDRESS` | string | âœ… | å‘ä»¶äººé‚®ç®±åœ°å€ | `QRManager <noreply@example.com>` |
| **æ–‡ä»¶ä¸Šä¼ é…ç½®** |
| `NEXT_PUBLIC_MAX_FILE_MB` | number | âœ… | æœ€å¤§æ–‡ä»¶å¤§å° (MB) | `10` |
| `NEXT_PUBLIC_BUCKET_ADDRESS` | string | âœ… | Cloudflare R2 å­˜å‚¨æ¡¶åœ°å€ | `https://your-bucket.your-subdomain.r2.cloudflarestorage.com` |

### ç¯å¢ƒå˜é‡è·å–æŒ‡å—

#### Cloudflare é…ç½®
1. ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com/)
2. è·å– Account IDï¼ˆåœ¨å³ä¾§è¾¹æ ï¼‰
3. åˆ›å»º API Tokenï¼ˆMy Profile > API Tokensï¼‰

#### GitHub OAuth
1. è®¿é—® [GitHub Developer Settings](https://github.com/settings/developers)
2. åˆ›å»ºæ–°çš„ OAuth App
3. è®¾ç½® Authorization callback URL: `https://your-domain.com/api/auth/github/callback`

#### Resend é‚®ä»¶æœåŠ¡
1. æ³¨å†Œ [Resend](https://resend.com/)
2. è·å– API Key
3. éªŒè¯å‘ä»¶äººåŸŸå

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Next.js 15** - React å…¨æ ˆæ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **shadcn/ui** - UI ç»„ä»¶åº“
- **Lucide React** - å›¾æ ‡åº“
- **React Email** - React é‚®ä»¶æ¨¡æ¿

### åç«¯
- **Cloudflare Workers** - è¾¹ç¼˜è®¡ç®—
- **Drizzle ORM** - æ•°æ®åº“ ORM
- **Better Auth** - è®¤è¯è§£å†³æ–¹æ¡ˆ
- **Resend** - é‚®ä»¶æœåŠ¡

### æ•°æ®åº“ & å­˜å‚¨
- **Cloudflare D1** - SQLite æ•°æ®åº“
- **Cloudflare R2** - å¯¹è±¡å­˜å‚¨

### éƒ¨ç½²
- **GitHub Actions** - CI/CD è‡ªåŠ¨åŒ–

## ğŸ“¦ éƒ¨ç½²

### è‡ªåŠ¨éƒ¨ç½²
é¡¹ç›®é…ç½®äº† GitHub Actions è‡ªåŠ¨éƒ¨ç½²æµç¨‹ï¼š

1. æ¨é€æ ‡ç­¾è§¦å‘éƒ¨ç½²ï¼š
```bash
git tag v1.0.0
git push origin v1.0.0
```

2. GitHub Actions å°†è‡ªåŠ¨ï¼š
   - å®‰è£…ä¾èµ–
   - è¿è¡Œæ„å»º
   - éƒ¨ç½²åˆ° Cloudflare

### æ‰‹åŠ¨éƒ¨ç½²
```bash
# è¿è¡Œéƒ¨ç½²è„šæœ¬
bun run scripts/deploy/index.ts
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

**QRManager** - è®©æ¯ä¸ªäºŒç»´ç éƒ½ç‹¬ä¸€æ— äºŒ âœ¨
